!function(c,e){var _={cache:function(){_.cache_run||(_.els={},_.vars={},_.tpl={},_.products={},_.wishlist_adding=[],_.vars.d=new Date,_.els.all_images_wrap=c(".iconic-woothumbs-all-images-wrap"),_.els.gallery=!1,_.els.video_template=c("#iconic-woothumbs-video-template"),_.vars.zoom_setup=!1,_.vars.media_touch_timer=!1,_.vars.window_resize_timeout=!1,_.vars.is_dragging_image_slide=!1,_.vars.is_rtl=_.is_true(iconic_woothumbs_vars.is_rtl),_.vars.images_are_vertical="vertical"===iconic_woothumbs_vars.settings.carousel_general_mode,_.vars.thumbnails_are_vertical="left"===iconic_woothumbs_vars.settings.navigation_thumbnails_position||"right"===iconic_woothumbs_vars.settings.navigation_thumbnails_position,_.vars.loading_class="iconic-woothumbs-loading",_.vars.reset_class="iconic-woothumbs-reset",_.vars.thumbnails_active_class="iconic-woothumbs-thumbnails__slide--active",_.vars.wishlist_adding_class="iconic-woothumbs-wishlist-buttons--adding",_.vars.wishlist_added_class="iconic-woothumbs-wishlist-buttons--added",_.vars.is_zoom_enabled=_.is_true(iconic_woothumbs_vars.settings.zoom_general_enable),_.vars.is_fullscreen_enabled=_.is_true(iconic_woothumbs_vars.settings.fullscreen_general_enable),_.vars.show_variation_trigger="iconic_woothumbs_show_variation",_.vars.loading_variation_trigger="iconic_woothumbs_loading_variation",_.vars.fullscreen_trigger=_.is_true(iconic_woothumbs_vars.settings.fullscreen_general_click_anywhere)?".iconic-woothumbs-fullscreen, img":".iconic-woothumbs-fullscreen",_.vars.play_trigger=".iconic-woothumbs-play",_.vars.media_controls_class="iconic-woothumbs-responsive-media__controls",_.vars.play_button_class="iconic-woothumbs-icon-play-alt",_.vars.pause_button_class="iconic-woothumbs-icon-pause",_.vars.play_controls_class="iconic-woothumbs-responsive-media__controls--play",_.vars.pause_controls_class="iconic-woothumbs-responsive-media__controls--pause",_.vars.window_size={height:c(window).height(),width:c(window).width()},_.vars.fullscreeen_flag=!1,_.tpl.prev_arrow='<a href="javascript: void(0);" class="iconic-woothumbs-images__arrow iconic-woothumbs-images__arrow--prev"><i class="iconic-woothumbs-icon iconic-woothumbs-icon-left-open-mini"></i></a>',_.tpl.next_arrow='<a href="javascript: void(0);" class="iconic-woothumbs-images__arrow iconic-woothumbs-images__arrow--next"><i class="iconic-woothumbs-icon iconic-woothumbs-icon-right-open-mini"></i></a>',_.tpl.prev_arrow_rtl=_.tpl.next_arrow,_.tpl.next_arrow_rtl=_.tpl.prev_arrow,_.tpl.fullscreen_button='<a href="javascript: void(0);" class="iconic-woothumbs-fullscreen" data-iconic-woothumbs-tooltip="'+iconic_woothumbs_vars.text.fullscreen+'"><i class="iconic-woothumbs-icon iconic-woothumbs-icon-fullscreen"></i></a>',_.tpl.play_button='<a href="javascript: void(0);" class="iconic-woothumbs-play" data-iconic-woothumbs-tooltip="'+iconic_woothumbs_vars.text.video+'"><i class="iconic-woothumbs-icon iconic-woothumbs-icon-play"></i></a>',_.tpl.temp_images_container='<div class="iconic-woothumbs-temp"><div class="iconic-woothumbs-temp__images"></div><div class="iconic-woothumbs-icon iconic-woothumbs-temp__thumbnails"></div></div>',_.tpl.image_slide='<div class="iconic-woothumbs-images__slide"><img class="iconic-woothumbs-images__image no-lazyload" src="{{image_src}}" srcset="{{image_srcset}}" sizes="{{image_sizes}}" data-caption="{{image_caption}}" data-large_image="{{large_image_src}}" data-large_image_width="{{large_image_width}}" data-large_image_height="{{large_image_height}}" width="{{image_width}}" height="{{image_height}}" title="{{title}}" alt="{{alt}}" {{style}} {{data_src}}></div>',_.tpl.media_slide='<div class="iconic-woothumbs-images__slide">{{media_embed}}</div>',_.tpl.thumbnail_slide='<div class="iconic-woothumbs-thumbnails__slide {{slide_class}}" data-index="{{index}}"><div class="iconic-woothumbs-thumbnails__image-wrapper">{{play_icon}}<img class="iconic-woothumbs-thumbnails__image" src="{{image_src}}" srcset="{{image_srcset}}" sizes="{{image_sizes}}" title="{{title}}" alt="{{alt}}" width="{{image_width}}" height="{{image_height}}"></div></div>',_.tpl.thumbnail_play_icon='<div class="iconic-woothumbs-thumbnails__play-overlay"><i class="iconic-woothumbs-icon iconic-woothumbs-icon-play"></i></div>',_.tpl.photoswipe=wp.template("iconic-woothumbs-pswp"),_.tpl.media='<div class="iconic-woothumbs-fullscreen-video-wrapper iconic-woothumbs-fullscreen-video-wrapper--wide">{{media_embed}}</div>',_.tpl=c.extend(_.tpl,void 0!==iconic_woothumbs_vars.tpl?iconic_woothumbs_vars.tpl:[]),_.cache_run=!0,_.custom_init_events=["jckqv_open","jet-popup/show-event/after-show"])},on_load:function(i){_.cache_run=!1,_.cache(),window.iconicWooThumbsLoaded&&!_.custom_init_events.indexOf(i.type)||(_.prepare_products(),_.init(),window.iconicWooThumbsLoaded=!0)},on_resize:function(){_.cache(),clearTimeout(_.vars.window_resize_timeout),_.vars.window_resize_timeout=setTimeout(function(){var i={height:c(window).height(),width:c(window).width()};_.vars.window_size.width===i.width||_.vars.fullscreeen_flag||(_.vars.window_size.width=i.width,_.vars.window_size.height=i.height,c(window).trigger("resize-end"))},100)},is_true:function(i){return 1===parseInt(i)},is_active:function(i){return"woothemes_swatches"===i&&0<c("#swatches-and-photos-css").length},prepare_products:function(){_.els.all_images_wrap.length<=0||_.els.all_images_wrap.each(function(i,t){var e=c(t),o=e.closest(".product"),s=("variable"===e.data("product-type")||"variable-subscription"===e.data("product-type"))&&o.find("form.variations_form"),t=!!s&&s.attr("data-product_variations");_.products[i]={product:o,all_images_wrap:e,images:e.find(".iconic-woothumbs-images"),images_wrap:e.find(".iconic-woothumbs-images-wrap"),thumbnails:e.find(".iconic-woothumbs-thumbnails"),thumbnails_wrap:e.find(".iconic-woothumbs-thumbnails-wrap"),variations_form:s,variation_id_field:!!s&&s.find("input[name=variation_id]"),wishlist_buttons:e.find(".iconic-woothumbs-wishlist-buttons"),play_button:e.find(".iconic-woothumbs-play"),wishlist_add_button:e.find(".iconic-woothumbs-wishlist-buttons__add"),wishlist_browse_button:e.find(".iconic-woothumbs-wishlist-buttons__browse"),variations_json:t,maintain_slide_index:"yes"===e.attr("data-maintain-slide-index"),variations:!!t&&JSON.parse(t),product_id:!!s&&s.data("product_id"),default_images:JSON.parse(e.attr("data-default")),imagezoom:!1,caption:e.find(".iconic-woothumbs-caption")}})},init:function(){_.products.length<=0||(c.each(_.products,function(i,t){_.setup_sliders(t),_.watch_variations(t),_.setup_zoom(t),_.setup_fullscreen(t),_.setup_video(t),_.watch_yith_wishlist(t),_.setup_media_controls(t)}),_.setup_yith_wishlist(),_.setup_tooltips())},lazy_load_images:function(i){var t=i.images.find("img");0<t.length&&t.each(function(i,t){var e=c(t),o=e.attr("data-iconic-woothumbs-src");void 0!==o&&((t=e.clone()).attr("src",o).css({paddingTop:"",height:""}).removeAttr("data-iconic-woothumbs-src"),e.replaceWith(t))});i=i.images.find(".iconic-woothumbs-responsive-media");0<i.length&&i.each(function(i,t){c(t).show()})},images_slider_args:function(i,t){var e={},i=i.images.children().length;return e.initialSlide=void 0!==t&&t<i?t:0,e.speed=parseInt(iconic_woothumbs_vars.settings.carousel_general_transition_speed),e.arrows=1<i&&_.is_true(iconic_woothumbs_vars.settings.navigation_general_controls),e.infinite=1<i&&_.is_true(iconic_woothumbs_vars.settings.carousel_general_infinite_loop),e.touchMove=1<i,e.adaptiveHeight=!1,e.autoplay=_.is_true(iconic_woothumbs_vars.settings.carousel_general_autoplay),e.autoplaySpeed=parseInt(iconic_woothumbs_vars.settings.carousel_general_duration),e.dots=_.is_true(iconic_woothumbs_vars.settings.navigation_bullets_enable),e.prevArrow=_.vars.is_rtl?_.tpl.prev_arrow_rtl:_.tpl.prev_arrow,e.nextArrow=_.vars.is_rtl?_.tpl.next_arrow_rtl:_.tpl.next_arrow,e.respondTo="slider",e.centerPadding=0,e.touchThreshold=iconic_woothumbs_vars.settings.carousel_general_main_slider_swipe_threshold,_.vars.images_are_vertical?e.vertical=!0:"fade"===iconic_woothumbs_vars.settings.carousel_general_mode&&(e.fade=!0),!0!==_.vars.images_are_vertical&&(e.rtl=_.vars.is_rtl),e},thumbnails_slider_args:function(i){var t={infinite:!1};return t.speed=parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_transition_speed),t.slidesToShow=_.get_slides_to_show(),t.slidesToScroll=1,t.arrows=!1,t.vertical=!1,t.centerMode=!1,t.swipeToSlide=!0,_.vars.thumbnails_are_vertical?t.vertical=!0:t.rtl=_.vars.is_rtl,_.is_below_breakpoint()&&_.move_thumbnails_at_breakpoint()&&(t.vertical=!1),t},toggle_controls:function(i,t){_.is_media(i)?_.hide_controls(t):(_.show_controls(t),_.toggle_fullscreen_control(i,t))},toggle_fullscreen_control:function(i,t){i=i.find("img"),t=t.all_images_wrap.find(_.vars.fullscreen_trigger).not("img");_.is_placeholder(i)?t.hide():t.show()},hide_controls:function(i){i.images_wrap.addClass("iconic-woothumbs-images-wrap--hide-controls")},show_controls:function(i){i.images_wrap.removeClass("iconic-woothumbs-images-wrap--hide-controls")},is_placeholder:function(i,t){i=!0===t?i:i.attr("src");return null!=i&&0<=i.indexOf("placeholder.png")},is_media:function(i){return 0<i.find("iframe, video, object").length},get_slides_to_show:function(){return _.is_below_breakpoint()?parseInt(iconic_woothumbs_vars.settings.responsive_general_thumbnails_count):parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_count)},get_thumbnail_count:function(i){return i.thumbnails.find(".iconic-woothumbs-thumbnails__slide").length},setup_sliders:function(i){_.setup_images_events(i),_.setup_thumbnails_events(i),_.init_images(i),_.init_thumbnails(i)},setup_images_events:function(s){c(window).on("resize-end",function(){_.maybe_resize_wrap(s)}),s.images.on("init",function(i,t){var e=s.images.find(".slick-active"),o=e.find("img:first");_.go_to_thumbnail(t.currentSlide,s),_.init_zoom(o,s),_.update_caption(o,s),_.toggle_controls(e,s),_.reveal_slides(s),c(window).trigger("resize")}),s.images.on("init_zoom",function(i){var t=s.images.find(".slick-active").find("img:first");_.init_zoom(t,s)}),s.images.on("beforeChange",function(i,t,e,o){_.go_to_thumbnail(o,s),s.imagezoom&&s.imagezoom.destroy()}),s.images.on("afterChange",function(i,t,e){var o=_.get_slide_by_index(s,e),e=o.find("img:first");_.init_zoom(e,s),_.update_caption(e,s),_.toggle_controls(o,s),_.stop_media(s),_.start_media(s)}),s.all_images_wrap.on("click",".iconic-woothumbs-thumbnails__slide, .iconic-woothumbs-images__arrow, .iconic-woothumbs-zoom-prev, .iconic-woothumbs-zoom-next, .slick-dots button",function(){s.images.slick("slickPause")})},setup_thumbnails_events:function(o){o.thumbnails.on("init",function(i,t){_.reveal_thumbnails(o),_.set_thumbnail_controls_visibility(o)}),o.thumbnails.on("afterChange",function(i,t,e){_.set_thumbnail_controls_visibility(o)}),o.all_images_wrap.on("click",".iconic-woothumbs-thumbnails__slide",function(){var i;o.all_images_wrap.hasClass(_.vars.loading_class)||o&&(i=parseInt(c(this).attr("data-index")),_.set_active_thumbnail(o.thumbnails,i),o.images.slick("slickGoTo",i))}),o.all_images_wrap.on("click",".iconic-woothumbs-thumbnails__control",function(){o.all_images_wrap.hasClass(_.vars.loading_class)||("next"===c(this).attr("data-direction")?o.thumbnails.slick("slickNext"):o.thumbnails.slick("slickPrev"))}),c(window).on("resize-end",function(){_.position_thumbnails(o),_.resize_thumbnails(o)})},reveal_thumbnails:function(i){i.thumbnails_wrap.height("").removeClass("iconic-woothumbs-thumbnails-wrap--hidden")},init_images:function(i){i.images.length<=0||(_.maybe_resize_wrap(i),i.images.not(".slick-initialized").slick(_.images_slider_args(i)),_.images_loaded(i.images,function(){i.images.slick("slickSetOption","adaptiveHeight",!0,!0),_.lazy_load_images(i),i.images[0].slick.refresh()}),i.images_slider_data=0<i.images.length)},maybe_resize_wrap:function(i){i.all_images_wrap.width("").width(2*Math.floor(i.all_images_wrap.width()/2));i=i.all_images_wrap.find(".slick-slider");i.length<=0||i.each(function(i,t){void 0!==t.slick&&t.slick.refresh()})},init_thumbnails:function(i,t){i.thumbnails.find("img").length<=0||(_.get_slides_to_show()<=0?i.thumbnails.hide():_.sliding_thumbnails_enabled()?_.images_loaded(i.thumbnails,function(){i.thumbnails.not(".slick-initialized").slick(_.thumbnails_slider_args(i)),i.thumbnails_slider_data=0<i.thumbnails.length,_.position_thumbnails(i),"function"==typeof t&&t()}):_.reveal_thumbnails(i))},resize_thumbnails:function(i){var t;i.thumbnails.length<1||((t=_.get_slides_to_show())<=0?i.thumbnails.hide():(i.thumbnails.show(),i.thumbnails_slider_data?i.thumbnails.slick("slickSetOption","slidesToShow",t):_.init_thumbnails(i,function(){i.thumbnails.slick("slickSetOption","slidesToShow",t)})))},get_slide_by_index:function(i,t){return i.images.find('[data-slick-index="'+t+'"]')},sliding_thumbnails_enabled:function(){return"sliding"===iconic_woothumbs_vars.settings.navigation_thumbnails_type},has_thumbnails:function(i){return(0<_.get_thumbnail_count(i)||thumbnails)&&("sliding"===iconic_woothumbs_vars.settings.navigation_thumbnails_type||"stacked"===iconic_woothumbs_vars.settings.navigation_thumbnails_type)},thumbnails_enabled:function(){return _.is_true(iconic_woothumbs_vars.settings.navigation_thumbnails_enable)},move_thumbnails_at_breakpoint:function(){return _.is_true(iconic_woothumbs_vars.settings.responsive_general_thumbnails_below)&&"below"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position},is_below_breakpoint:function(){return _.is_true(iconic_woothumbs_vars.settings.responsive_general_breakpoint_enable)&&_.viewport().width<=parseInt(iconic_woothumbs_vars.settings.responsive_general_breakpoint,10)},viewport:function(){var i=window,t="inner";return"innerWidth"in window||(t="client",i=e.documentElement||e.body),{width:i[t+"Width"],height:i[t+"Height"]}},position_thumbnails:function(i){var t,e;_.move_thumbnails_at_breakpoint()&&(_.get_thumbnail_count(i)<=0||(t=i.all_images_wrap.find(".iconic-woothumbs-thumbnails__control--right, .iconic-woothumbs-thumbnails__control--down"),e=i.all_images_wrap.find(".iconic-woothumbs-thumbnails__control--left, .iconic-woothumbs-thumbnails__control--up"),_.is_below_breakpoint()?(i.all_images_wrap.removeClass("iconic-woothumbs-all-images-wrap--thumbnails-left iconic-woothumbs-all-images-wrap--thumbnails-right iconic-woothumbs-all-images-wrap--thumbnails-above").addClass("iconic-woothumbs-all-images-wrap--thumbnails-below"),i.images_wrap.after(i.thumbnails_wrap),i.thumbnails_wrap.removeClass("iconic-woothumbs-thumbnails-wrap--vertical").addClass("iconic-woothumbs-thumbnails-wrap--horizontal"),t.removeClass("iconic-woothumbs-thumbnails__control--down").addClass("iconic-woothumbs-thumbnails__control--right").find("i").removeClass("iconic-woothumbs-icon-down-open-mini").addClass("iconic-woothumbs-icon-right-open-mini"),e.removeClass("iconic-woothumbs-thumbnails__control--up").addClass("iconic-woothumbs-thumbnails__control--left").find("i").removeClass("iconic-woothumbs-icon-up-open-mini").addClass("iconic-woothumbs-icon-left-open-mini"),i.thumbnails_slider_data&&_.sliding_thumbnails_enabled()&&i.thumbnails.slick("slickSetOption","vertical",!1).removeClass("slick-vertical")):(i.all_images_wrap.removeClass("iconic-woothumbs-all-images-wrap--thumbnails-below").addClass("iconic-woothumbs-all-images-wrap--thumbnails-"+iconic_woothumbs_vars.settings.navigation_thumbnails_position),"left"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position&&"above"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position||i.images_wrap.before(i.thumbnails_wrap),"left"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position&&"right"!==iconic_woothumbs_vars.settings.navigation_thumbnails_position||(i.thumbnails_wrap.removeClass("iconic-woothumbs-thumbnails-wrap--horizontal").addClass("iconic-woothumbs-thumbnails-wrap--vertical"),t.removeClass("iconic-woothumbs-thumbnails__control--right").addClass("iconic-woothumbs-thumbnails__control--down").find("i").removeClass("iconic-woothumbs-icon-right-open-mini").addClass("iconic-woothumbs-icon-down-open-mini"),e.removeClass("iconic-woothumbs-thumbnails__control--left").addClass("iconic-woothumbs-thumbnails__control--up").find("i").removeClass("iconic-woothumbs-icon-left-open-mini").addClass("iconic-woothumbs-icon-up-open-mini"),i.thumbnails_slider_data&&_.sliding_thumbnails_enabled()&&i.thumbnails.slick("slickSetOption","vertical",!0).addClass("slick-vertical")))))},set_thumbnail_controls_visibility:function(i){var t=i.thumbnails.find(".slick-track"),e=null,o=null,s=null,a=i.all_images_wrap.find(".iconic-woothumbs-thumbnails__control--right, .iconic-woothumbs-thumbnails__control--down"),n=i.all_images_wrap.find(".iconic-woothumbs-thumbnails__control--left, .iconic-woothumbs-thumbnails__control--up"),s=_.thumbnails_slider_args().vertical?(e=t.position().top,o=t.height(),i.thumbnails.height()):(e=t.position().left,o=t.width(),i.thumbnails.width()),s=-(o-s-parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_spacing));n.show(),a.show(),e<=1&&-1<=e?n.hide():_.get_difference(e,s)<=5&&a.hide(),_.get_thumbnail_count(i)<=_.get_slides_to_show()&&(n.hide(),a.hide())},get_difference:function(i,t){return Math.abs(i-t)},set_active_thumbnail:function(i,t){i.find(".iconic-woothumbs-thumbnails__slide").removeClass(_.vars.thumbnails_active_class),i.find(".iconic-woothumbs-thumbnails__slide[data-index="+t+"]").addClass(_.vars.thumbnails_active_class)},go_to_thumbnail:function(i,t){var e;t.thumbnails_slider_data&&(e=_.get_thumbnail_index(i,t),t.thumbnails.slick("slickGoTo",e)),_.set_active_thumbnail(t.thumbnails,i)},get_thumbnail_index:function(i,t){if(1===parseInt(iconic_woothumbs_vars.settings.navigation_thumbnails_count))return i;t=_.get_last_thumbnail_index(t);return t<i?t:0===i?0:i-1},get_last_thumbnail_index:function(i){return _.get_thumbnail_count(i)-iconic_woothumbs_vars.settings.navigation_thumbnails_count},watch_variations:function(e){e.variations_form&&(e.variation_id_field.on("change",function(){var i=parseInt(c(this).val()),t=parseInt(e.all_images_wrap.attr("data-showing"));!isNaN(i)&&i!==t&&0<i&&_.get_variation_data(e,i)}),e.variations_form.on("reset_data",function(){_.reset_images(e)}),e.all_images_wrap.on(_.vars.loading_variation_trigger,function(i){e.all_images_wrap.addClass(_.vars.loading_class)}),e.all_images_wrap.on(_.vars.show_variation_trigger,function(i,t){_.load_images(e,t)}),c(e.variation_id_field).val()&&c(e.variation_id_field).trigger("change"))},load_images:function(i,t){t&&void 0!==t.jck_additional_images?0<t.jck_additional_images.length?(i.all_images_wrap.attr("data-showing",t.variation_id).removeClass(_.vars.reset_class),_.replace_images(i,t.jck_additional_images)):(i.all_images_wrap.removeClass(_.vars.loading_class),_.reset_images(i)):i.all_images_wrap.removeClass(_.vars.loading_class)},replace_images:function(t,i,e){_.remove_temporary_images();var i=_.create_temporary_images(i,t),o=t.images.slick("slickCurrentSlide"),s=0<i.thumbnails.children().length,a=i.thumbnails.html(),n=i.images.html();_.images_loaded(i.container,function(){t.images_slider_data&&(t.images.slick("unslick"),t.images.html(n),_.init_images(t)),_.thumbnails_enabled()&&(t.thumbnails_wrap.height(t.thumbnails_wrap.height()).addClass("iconic-woothumbs-thumbnails-wrap--hidden"),t.thumbnails_slider_data&&(t.thumbnails.slick("unslick"),delete t.thumbnails[0].slick,t.thumbnails_slider_data=!1),t.thumbnails.html(a),s&&_.sliding_thumbnails_enabled()?_.init_thumbnails(t):_.reveal_thumbnails(t));var i=_.get_thumbnail_count(t);o<i&&t.maintain_slide_index&&void 0!==o&&(t.images.slick("slickGoTo",o),_.go_to_thumbnail(o,t)),t.all_images_wrap.removeClass(_.vars.loading_class),_.remove_temporary_images(),_.setup_media_ended(),t.all_images_wrap.trigger("iconic_woothumbs_images_loaded",[t]),t.all_images_wrap.attr("data-slide-count",i),void 0!==e&&e()})},remove_temporary_images:function(){c(".iconic-woothumbs-temp").remove()},create_temporary_images:function(t,e){c("body").append(c(_.tpl.temp_images_container).css({width:e.images.outerWidth()}));var l=t.length,r={container:c(".iconic-woothumbs-temp"),images:c(".iconic-woothumbs-temp__images"),thumbnails:c(".iconic-woothumbs-temp__thumbnails")};if(c.each(t,function(i,t){var e,o=0===i?t.src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=",s=0!==i&&'data-iconic-woothumbs-src="'+t.src+'"',a=0!==i&&t.src_h/t.src_w*100,n=a?'style="padding-top: '+a+'%; height: 0px;"':"",a="";a=t.media_embed?_.tpl.media_slide.replace("{{media_embed}}",t.media_embed):(e=c.extend(t,{image_srcset:t.srcset,image_sizes:t.sizes,image_caption:t.caption,large_image_src:t.large_src,large_image_width:t.large_src_w,large_image_height:t.large_src_h,image_width:t.src_w,image_height:t.src_h,alt:t.alt,title:t.title}),(a=Object.keys(e).reduce(function(i,t){return i.replace("{{"+t+"}}",_.maybe_empty(e[t]))},_.tpl.image_slide)).replace(/{{image_src}}/g,o).replace("{{style}}",n).replace("{{data_src}}",s)),r.images.append(a),1<l&&_.thumbnails_enabled()&&(a=t.media_embed&&!0!==t.no_media_icon?_.tpl.thumbnail_play_icon:"",i=_.tpl.thumbnail_slide.replace("{{play_icon}}",a).replace(/{{image_src}}/g,t.gallery_thumbnail_src).replace("{{image_srcset}}",_.maybe_empty(t.gallery_thumbnail_srcset)).replace("{{image_sizes}}",_.maybe_empty(t.gallery_thumbnail_sizes)).replace("{{index}}",i).replace("{{image_width}}",_.maybe_empty(t.gallery_thumbnail_src_w)).replace("{{image_height}}",_.maybe_empty(t.gallery_thumbnail_src_h)).replace("{{alt}}",t.alt).replace("{{title}}",t.title).replace("{{slide_class}}",0===i?_.vars.thumbnails_active_class:""),r.thumbnails.append(i))}),e.thumbnails_slider_data&&1!==l&&l<iconic_woothumbs_vars.settings.navigation_thumbnails_count){var o=iconic_woothumbs_vars.settings.navigation_thumbnails_count-l;for(i=0;i<o;)r.thumbnails.append("<div></div>"),i++}return r},maybe_empty:function(i){return i||""},reset_images:function(i){i.all_images_wrap.hasClass(_.vars.reset_class)||i.all_images_wrap.hasClass(_.vars.loading_class)||(i.all_images_wrap.trigger(_.vars.loading_variation_trigger),i.all_images_wrap.attr("data-showing",i.product_id),i.all_images_wrap.addClass(_.vars.reset_class),_.replace_images(i,i.default_images))},found_variation:function(i){i=parseInt(i.variation_id_field.val());return!isNaN(i)},get_variation_data:function(t,e){t.all_images_wrap.trigger(_.vars.loading_variation_trigger);var o=!1;t.variations?(c.each(t.variations,function(i,t){t.variation_id===e&&(o=t)}),t.all_images_wrap.trigger(_.vars.show_variation_trigger,[o])):c.ajax({type:"GET",url:iconic_woothumbs_vars.ajaxurl,cache:!1,dataType:"jsonp",crossDomain:!0,data:{action:"iconic_woothumbs_get_variation",variation_id:e,product_id:t.product_id},success:function(i){i.success&&i.variation&&(o=i.variation,t.all_images_wrap.trigger(_.vars.show_variation_trigger,[o]))}})},trigger_photoswipe:function(i,t){var e=c(_.tpl.photoswipe());c("body").append(e);var o=c(".iconic-woothumbs-pswp");o.length<=0||(i=_.get_gallery_items(i),t={index:void 0===t?i.index:i.items.length-1,shareEl:!1,closeOnScroll:!1,history:!1,showHideOpacity:!0,showAnimationDuration:0},_.els.gallery=new PhotoSwipe(o[0],PhotoSwipeUI_Default,i.items,t),_.els.gallery.init(),_.els.gallery.listen("beforeChange",function(){_.stop_photoswipe_media()}),_.els.gallery.listen("close",function(){setTimeout(function(){o.remove()},50)}))},stop_photoswipe_media:function(){var i=c(".iconic-woothumbs-fullscreen-video-wrapper iframe, .iconic-woothumbs-fullscreen-video-wrapper video");i.length<=0||i.each(function(i,t){t=c(t);t.is("iframe")?(t.hide().attr("src",t.attr("src")),t.load(function(){c(this).show()})):(_.setup_media_ended(),_.pause_video(t,!0))})},pause_video:function(i,t){t=t||!1;var e=i.get(0),o=i.closest(".iconic-woothumbs-responsive-media").find("."+_.vars.media_controls_class),s=o.find(".iconic-woothumbs-icon");if(i.get(0).pause(),t&&(e.load(),e.autoplay&&0<o.length))return o.removeClass(_.vars.pause_controls_class),o.removeClass(_.vars.play_controls_class),s.addClass(_.vars.pause_button_class),void s.removeClass(_.vars.play_button_class);o.length<=0||(o.removeClass(_.vars.pause_controls_class),o.addClass(_.vars.play_controls_class),s.removeClass(_.vars.pause_button_class),s.addClass(_.vars.play_button_class))},setup_fullscreen:function(i){_.vars.is_fullscreen_enabled&&(i.images_wrap.on("click",_.vars.fullscreen_trigger,function(){_.trigger_photoswipe(i)}),_.is_true(iconic_woothumbs_vars.settings.fullscreen_general_click_anywhere)&&c(e).on("click",".zm-handler",function(){c(this).data("el").click()}))},setup_video:function(i){i.images_wrap.on("click touchstart",_.vars.play_trigger,function(){_.trigger_photoswipe(i,!0)})},get_gallery_items:function(i){var t=i.images.find(".iconic-woothumbs-images__slide"),o=[],i=i.images.slick("slickCurrentSlide");return _.is_true(iconic_woothumbs_vars.settings.fullscreen_general_enable)&&0<t.length&&t.each(function(i,t){var e=c(t);if(!(0<e.closest(".slick-cloned").length)){if(_.is_media(e))return media_html=_.tpl.media.replace("{{media_embed}}",e.html()),"tall"===e.find(".iconic-woothumbs-responsive-media").data("orientation")&&(media_html=media_html.replace("--wide","--tall")),void o.push({html:media_html});var t=e.find("img");t.length<=0||_.is_placeholder(t)||(e={src:t.attr("data-large_image"),w:t.attr("data-large_image_width"),h:t.attr("data-large_image_height")},_.is_true(iconic_woothumbs_vars.settings.fullscreen_general_image_title)&&(t=t.attr("title"),e.title=t),o.push(e))}}),0<_.els.video_template.length&&o.push({html:_.els.video_template.html().trim()}),{index:i,items:o}},setup_zoom:function(t){_.vars.is_zoom_enabled&&(t.all_images_wrap.on("touchmove",".iconic-woothumbs-images__image",function(){_.vars.is_dragging_image_slide=!0}),t.all_images_wrap.on("touchend",".iconic-woothumbs-images__image",function(i){_.vars.is_dragging_image_slide||(i.preventDefault(),c(this).click())}),t.all_images_wrap.on("touchstart",".iconic-woothumbs-images__image",function(){_.vars.is_dragging_image_slide=!1}),_.vars.zoom_setup||(c(window).on("resize-end",function(){var i=t.images.find(".slick-active img:first");_.init_zoom(i,t)}),_.vars.zoom_setup=!0))},init_zoom:function(i,t){var e,o,s;_.vars.is_zoom_enabled&&!_.is_placeholder(i)&&(e=i.closest(".iconic-woothumbs-images__slide"),o=i.width(),s=i.attr("data-large_image"),parseInt(i.attr("data-large_image_width"))<=o||(t.imagezoom&&t.imagezoom.destroy(),e.ImageZoom({type:iconic_woothumbs_vars.settings.zoom_general_zoom_type,bigImageSrc:s,zoomSize:[iconic_woothumbs_vars.settings.zoom_outside_follow_zoom_lens_width,iconic_woothumbs_vars.settings.zoom_outside_follow_zoom_lens_height],zoomViewerClass:"follow"===iconic_woothumbs_vars.settings.zoom_general_zoom_type?"shape"+iconic_woothumbs_vars.settings.zoom_follow_zoom_zoom_shape:"shapesquare",position:iconic_woothumbs_vars.settings.zoom_outside_zoom_zoom_position,preload:!1,showDescription:!1,hoverIntent:"follow"===iconic_woothumbs_vars.settings.zoom_general_zoom_type,onShow:function(){_.add_zoom_controls(t),t.images.slick("slickPause")},onHide:function(){_.is_true(iconic_woothumbs_vars.settings.carousel_general_autoplay)&&t.images.slick("slickPlay")}}),t.imagezoom=e.data("imagezoom")))},destroy_zoom:function(i){var t=i.images.find(".currZoom"),i=t.data("imagezoom");i&&void 0!==i&&(t.removeClass("currZoom"),i.destroy()),c(".zm-viewer").remove(),c(".zm-handler").remove()},add_zoom_controls:function(t){var i,e,o=t.imagezoom.$viewer;o.find(".iconic-woothumbs-zoom-controls").length<=0&&"inner"===iconic_woothumbs_vars.settings.zoom_general_zoom_type&&(_.is_true(iconic_woothumbs_vars.settings.display_general_icons_tooltips)&&o.addClass("iconic-woothumbs-tooltips-enabled"),o.append('<div class="iconic-woothumbs-zoom-controls"></div>'),i=o.find(".iconic-woothumbs-zoom-controls"),0<t.wishlist_buttons.length&&i.append(t.wishlist_buttons.clone()),0<t.play_button.length&&(i.append(_.tpl.play_button),o.on("click",_.vars.play_trigger,function(){_.trigger_photoswipe(t,!0)})),_.is_true(iconic_woothumbs_vars.settings.fullscreen_general_enable)&&(i.append(_.tpl.fullscreen_button),o.on("click",_.vars.fullscreen_trigger,function(){_.trigger_photoswipe(t)})),_.is_true(iconic_woothumbs_vars.settings.navigation_general_controls)&&1<_.get_thumbnail_count(t)&&(_.vars.is_rtl,t.images_wrap.find(".iconic-woothumbs-images__arrow--prev").hasClass("slick-disabled")||i.append('<a class="iconic-woothumbs-zoom-prev" href="javascript: void(0);"><i class="iconic-woothumbs-icon iconic-woothumbs-icon-left-open-mini"></i></a>'),t.images_wrap.find(".iconic-woothumbs-images__arrow--next").hasClass("slick-disabled")||i.append('<a class="iconic-woothumbs-zoom-next" href="javascript: void(0);"><i class="iconic-woothumbs-icon iconic-woothumbs-icon-right-open-mini"></i></a>'),o.on("click",".iconic-woothumbs-zoom-prev",function(){var i=_.vars.is_rtl?"slickNext":"slickPrev";t.images.slick(i)}),o.on("click",".iconic-woothumbs-zoom-next",function(){var i=_.vars.is_rtl?"slickPrev":"slickNext";t.images.slick(i)})),!_.is_true(iconic_woothumbs_vars.settings.navigation_bullets_enable)||1<(e=t.all_images_wrap.find(".slick-dots")).children().length&&(e.clone().appendTo(i).wrap("<div class='iconic-woothumbs-zoom-bullets'></div>"),o.on("click",".iconic-woothumbs-zoom-bullets button",function(){var i=c(this).parent().index();return t.images.slick("slickGoTo",i),!1})),_.setup_tooltips())},setup_yith_wishlist:function(){c("body").on("added_to_wishlist",function(){var i;_.wishlist_adding.length<=0||(i=_.wishlist_adding.shift(),c('[data-iconic-woothumbs-yith-wishlist-adding-id="'+i+'"]').addClass(_.vars.wishlist_added_class))})},watch_yith_wishlist:function(t){t.wishlist_buttons.length<=0||t.wishlist_add_button.on("click",function(){var i=_.wishlist_adding.length+1;t.wishlist_buttons.attr("data-iconic-woothumbs-yith-wishlist-adding-id",i),_.wishlist_adding.push(i)})},setup_tooltips:function(){_.is_true(iconic_woothumbs_vars.settings.display_general_icons_tooltips)&&c("[data-iconic-woothumbs-tooltip]").each(function(){var i=c(this).attr("data-iconic-woothumbs-tooltip");c(this).tooltipster({content:i,debug:!1})})},update_caption:function(i,t){t.caption.length<=0||(void 0===(i=i.data("caption"))||""===i?t.caption.html("&mdash;"):t.caption.text(i))},stop_media:function(i){i=i.images.find("iframe, video");i.length<=0||i.each(function(i,t){var e=c(t);0<e.closest(".slick-active").length||(e.is("iframe")?e.attr("src",c(t).attr("src")):e.get(0).paused||(e.data("playing",!0),e.get(0).pause()))})},start_media:function(i){i=i.images.find("video");i.length<=0||i.each(function(i,t){t=c(t);0<t.closest(".slick-active").length&&!0===t.data("playing")&&(t.get(0).play(),t.data("has-played")||(t.get(0).currentTime=0,t.data("has-played",1)),t.data("playing",!1))})},setup_media_controls:function(i){c(e.body).on("click","."+_.vars.media_controls_class,function(i){var t=c(this),e=t.closest(".iconic-woothumbs-responsive-media").find("video"),o=t.find(".iconic-woothumbs-icon");e.length<=0||i.timeStamp!==window.iconic_woothumbs_last_controls_event_timestamp&&(window.iconic_woothumbs_last_controls_event_timestamp=i.timeStamp,$media_item=e.get(0),!$media_item.paused?_.pause_video(e):(t.removeClass(_.vars.play_controls_class),t.addClass(_.vars.pause_controls_class),o.removeClass(_.vars.play_button_class),o.addClass(_.vars.pause_button_class),$media_item.play()))}),c(e).on("mouseover touchstart",".iconic-woothumbs-responsive-media",function(){c(this).addClass("iconic-woothumbs-responsive-media--hover")}),c(e).on("mouseout ",".iconic-woothumbs-responsive-media",function(){c(this).removeClass("iconic-woothumbs-responsive-media--hover")}),jQuery(e).on("touchend",".iconic-woothumbs-responsive-media",function(){_.vars.media_touch_timer&&clearTimeout(_.vars.media_touch_timer),_.vars.media_touch_timer=setTimeout(function(){jQuery(".iconic-woothumbs-responsive-media").removeClass("iconic-woothumbs-responsive-media--hover")},1e3)}),_.setup_media_ended()},setup_media_ended:function(){var i,t=c(".iconic-woothumbs-responsive-media").filter(function(){return!0!==c(this).data("iconic-onended-bound")});t.length<=0||t.find("."+_.vars.media_controls_class).length<=0||((i=t.find(".iconic-woothumbs-responsive-media__manual-embed")).length<=0||(c.each(i,function(i,t){c(t).get(0).onended=function(){var i=c(this).closest(".iconic-woothumbs-responsive-media").find("."+_.vars.media_controls_class),t=i.find(".iconic-woothumbs-icon");i.removeClass(_.vars.pause_controls_class),i.addClass(_.vars.play_controls_class),t.removeClass(_.vars.pause_button_class),t.addClass(_.vars.play_button_class)}}),t.data("iconic-onended-bound",!0)))},reveal_slides:function(i){i.images.find(".iconic-woothumbs-images__slide").show()},images_loaded:function(i,e,o){function t(i,t){t={img:i,iteration:++n,success:s,error:a,total:l,status:t},"function"==typeof o&&o(t),s+a===l&&"function"==typeof e&&e(t)}var i=c(i).find("img, iframe, video"),s=0,a=0,n=0,l=i.length;i.each(function(){if(!c(this).is("img"))return s++,void t(this,"success");var i=new Image;i.onload=function(){s++,t(this,"success")},i.onerror=function(){a++,t(this,"error")},i.src=this.src})},on_fullscreenchange:function(){_.vars.fullscreeen_flag=!0,setTimeout(function(){_.vars.fullscreeen_flag=!1},1e3)}};c(window).on("load",function(i){_.on_load(i)}),c("body").on("jckqv_open",function(i){_.on_load(i)}),c(window).on("jet-popup/show-event/after-show",function(i){_.on_load(i)}),c(window).on("resize",_.on_resize),c(e).on("fullscreenchange webkitfullscreenchange",_.on_fullscreenchange)}(jQuery,document),function(r,h){r.ImageZoom=function(t,i){var _=this;function m(i){var i=parseInt(i);return i=isNaN(i)?0:i}_.$el=r(t),_.$img=_.$el.is("img")?_.$el:_.$el.find("img:first"),_.$el.data("imagezoom",_),_.init=function(i){_.options=r.extend({},r.ImageZoom.defaults,i),_.$viewer=r('<div class="zm-viewer '+_.options.zoomViewerClass+'"></div>').appendTo("body"),_.$handler=r('<div class="zm-handler'+_.options.zoomHandlerClass+'"></div>').data("el",t).appendTo("body"),_.isBigImageReady=-1,_.$largeImg=null,_.isActive=!1,_.$handlerArea=null,_.isWebkit=/chrome/.test(navigator.userAgent.toLowerCase())||/safari/.test(navigator.userAgent.toLowerCase()),_.evt={x:-1,y:-1},_.options.bigImageSrc=""==_.options.bigImageSrc?_.$img.attr("src"):_.options.bigImageSrc,_.options.preload&&((new Image).src=this.options.bigImageSrc),_.callIndex=r.ImageZoom._calltimes+1,_.animateTimer=null,r.ImageZoom._calltimes+=1,r(document).on("mousemove",function(i){h.mouseX=i.pageX,h.mouseY=i.pageY}),r(document).on("mousemove.imagezoom"+_.callIndex,function(i){_.isActive&&_.moveHandler(i.pageX,i.pageY)}),_.options.hoverIntent?_.$el.hoverIntent({over:_.over,out:_.out,sensitivity:10}):_.$el.on("mouseover.imagezoom",function(i){_.isActive=!0,_.showViewer(i)})},_.over=function(i){_.isActive=!0,_.showViewer(i),_.moveHandler(mouseX,mouseY)},_.out=function(){},_.moveHandler=function(i,t){var e,o,s,a,n,l=_.$el.offset(),r=_.$el.outerWidth(!1),c=_.$el.outerHeight(!1);i>=l.left&&i<=l.left+r&&t>=l.top&&t<=l.top+c?(l.left=l.left+m(_.$el.css("borderLeftWidth"))+m(_.$el.css("paddingLeft")),l.top=l.top+m(_.$el.css("borderTopWidth"))+m(_.$el.css("paddingTop")),r=_.$el.width(),c=_.$el.height(),i>=l.left&&i<=l.left+r&&t>=l.top&&t<=l.top+c&&(_.evt={x:i,y:t},"follow"==_.options.type&&_.$viewer.css({top:t-_.$viewer.outerHeight(!1)/2,left:i-_.$viewer.outerWidth(!1)/2}),1==_.isBigImageReady&&(s=t-l.top,t=i-l.left,"inner"==_.options.type?(e=-_.$largeImg.height()*s/c+s,o=-_.$largeImg.width()*t/r+t):"standard"==_.options.type?(a=t-_.$handlerArea.width()/2,n=s-_.$handlerArea.height()/2,i=_.$handlerArea.width(),l=_.$handlerArea.height(),a<0?a=0:r-i<a&&(a=r-i),n<0?n=0:c-l<n&&(n=c-l),o=-a/_.scale,e=-n/_.scale,_.isWebkit?(_.$handlerArea.css({opacity:.99}),setTimeout(function(){_.$handlerArea.css({top:n,left:a,opacity:1})},0)):_.$handlerArea.css({top:n,left:a})):"follow"==_.options.type&&(e=-_.$largeImg.height()/c*s+_.options.zoomSize[1]/2,o=-_.$largeImg.width()/r*t+_.options.zoomSize[0]/2,-e>_.$largeImg.height()-_.options.zoomSize[1]?e=-(_.$largeImg.height()-_.options.zoomSize[1]):0<e&&(e=0),-o>_.$largeImg.width()-_.options.zoomSize[0]?o=-(_.$largeImg.width()-_.options.zoomSize[0]):0<o&&(o=0)),_.options.smoothMove?(h.clearTimeout(_.animateTimer),_.smoothMove(o,e)):_.$viewer.find("img").css({top:e,left:o})))):(_.isActive=!1,_.$viewer.hide(),_.$handler.hide(),_.options.onHide(_),h.clearTimeout(_.animateTimer),_.animateTimer=null)},_.showViewer=function(t){var i,e,o,s=(s=_.$el.offset().top)+m(_.$el.css("borderTopWidth"))+m(_.$el.css("paddingTop")),a=(a=_.$el.offset().left)+m(_.$el.css("borderLeftWidth"))+m(_.$el.css("paddingLeft")),n=_.$el.width(),l=_.$el.height();_.isBigImageReady<1&&r("div",_.$viewer).remove(),"inner"==_.options.type?_.$viewer.css({top:s,left:a,width:n,height:l}).fadeIn(200):"standard"==_.options.type?(i=""==_.options.alignTo?_.$el:r("#"+_.options.alignTo),"left"==_.options.position?(e=i.offset().left-_.options.zoomSize[0]-_.options.offset[0],o=i.offset().top+_.options.offset[1]):"right"==_.options.position&&(e=i.offset().left+i.width()+_.options.offset[0],o=i.offset().top+_.options.offset[1]),_.$viewer.css({top:o,left:e,width:_.options.zoomSize[0],height:_.options.zoomSize[1]}).fadeIn(200),_.$handlerArea&&(_.scale=n/_.$largeImg.width(),_.$handlerArea.css({width:_.$viewer.width()*_.scale,height:_.$viewer.height()*_.scale}))):"follow"==_.options.type&&_.$viewer.css({width:_.options.zoomSize[0],height:_.options.zoomSize[1],top:t.pageY-_.options.zoomSize[1]/2,left:t.pageX-_.options.zoomSize[0]/2}).fadeIn(200),_.$handler.css({top:s,left:a,width:n,height:l}).fadeIn(200),_.options.onShow(_),-1==_.isBigImageReady&&(_.isBigImageReady=0,fastImg(_.options.bigImageSrc,function(){var i;r(this).attr("src").trim()==_.options.bigImageSrc.trim()&&(i=_.$el.is("img")?_.$el:_.$el.find("img:first"),_.$viewer.append('<img src="'+i.attr("src")+'" class="zm-fast" style="position:absolute;width:'+this.width+"px;height:"+this.height+'px" nopin="nopin" >'),_.isBigImageReady=1,_.$largeImg=r('<img src="'+_.options.bigImageSrc+'" style="position:absolute;width:'+this.width+"px;height:"+this.height+'px" nopin="nopin" >'),_.$viewer.append(_.$largeImg),"standard"==_.options.type&&(i=n/this.width,_.$handlerArea=r('<div class="zm-handlerarea" style="width:'+_.$viewer.width()*i+"px;height:"+_.$viewer.height()*i+'px"></div>').appendTo(_.$handler),_.scale=i),-1==_.evt.x&&-1==_.evt.y?_.moveHandler(t.pageX,t.pageY):_.moveHandler(_.evt.x,_.evt.y),_.options.showDescription&&_.$img.attr("alt")&&""!=_.$img.attr("alt").trim()&&_.$viewer.append('<div class="'+_.options.descriptionClass+'">'+_.$img.attr("alt")+"</div>"))},function(){},function(){}))},_.changeImage=function(i,t){this.$el.attr("src",i),this.isBigImageReady=-1,this.options.bigImageSrc="string"==typeof t?t:i,_.options.preload&&((new Image).src=this.options.bigImageSrc),this.$viewer.hide().empty(),this.$handler.hide().empty(),this.$handlerArea=null},_.changeZoomSize=function(i,t){_.options.zoomSize=[i,t]},_.destroy=function(){r(document).off("mousemove.imagezoom"+_.callIndex),this.$el.off(".imagezoom"),this.$viewer.remove(),this.$handler.remove(),this.$el.removeData("imagezoom")},_.smoothMove=function(i,t){var e,o=parseInt(_.$largeImg.css("top")),o=isNaN(o)?0:o,s=parseInt(_.$largeImg.css("left")),s=isNaN(s)?0:s;t=parseInt(t),i=parseInt(i),o==t&&s==i?(h.clearTimeout(_.animateTimer),_.animateTimer=null):(e=i-s,o=o+(o=t-o)/Math.abs(o)*Math.ceil(Math.abs(o/10)),e=s+e/Math.abs(e)*Math.ceil(Math.abs(e/10)),_.$viewer.find("img").css({top:o,left:e}),_.animateTimer=setTimeout(function(){_.smoothMove(i,t)},10))},_.init(i)},r.ImageZoom.defaults={bigImageSrc:"",preload:!0,type:"inner",smoothMove:!0,position:"right",offset:[10,0],alignTo:"",zoomSize:[100,100],descriptionClass:"zm-description",zoomViewerClass:"",zoomHandlerClass:"",showDescription:!0,hoverIntent:!1,onShow:function(i){},onHide:function(i){}},r.ImageZoom._calltimes=0,r.fn.ImageZoom=function(i){return this.each(function(){new r.ImageZoom(this,i)})}}(jQuery,window);var fastImg=function(){function _(){for(var i=0;i<m.length;i++)m[i].end?m.splice(i--,1):m[i]();m.length||(clearInterval(h),h=null)}var m=[],h=null;return function(i,t,e,o){var s,a,n,l,r,c=new Image;if(c.src=i,c.complete)return t.call(c),void(e&&e.call(c));a=c.width,n=c.height,c.onerror=function(){o&&o.call(c),s.end=!0,c=c.onload=c.onerror=null},(s=function(){l=c.width,r=c.height,(l!==a||r!==n||1024<l*r)&&(t.call(c),s.end=!0)})(),c.onload=function(){s.end||s(),e&&e.call(c),c=c.onload=c.onerror=null},s.end||(m.push(s),null===h&&(h=setInterval(_,40)))}}();